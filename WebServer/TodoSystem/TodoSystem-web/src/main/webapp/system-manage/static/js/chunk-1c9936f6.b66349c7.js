(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c9936f6"],{"072a":function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"f",(function(){return i})),r.d(t,"g",(function(){return l})),r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return c}));var a=r("b775");function o(e){return Object(a["a"])({url:"/admin/schoolDorm/selectByQuery",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/admin/schoolDorm/selectDormTree",method:"post",data:e})}function n(e){return Object(a["a"])({url:"/admin/schoolDorm/exportExcel",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/admin/schoolDorm/addSchoolDorm",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/admin/schoolDorm/updateSchoolDorm",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/admin/schoolDorm/selectDormTree",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/admin/schoolDorm/deleteSchoolDorm",method:"post",data:e})}},"0a2e":function(e,t,r){},"132c":function(e,t,r){"use strict";r("0a2e")},"24e9":function(e,t,r){"use strict";r("9afe")},"349c":function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return n})),r.d(t,"e",(function(){return i})),r.d(t,"a",(function(){return l}));var a=r("b775");function o(e){return Object(a["a"])({url:"/admin/organization/selectByQuery",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/admin/organization/exportExcel",method:"post",data:e})}function n(e){return Object(a["a"])({url:"/admin/organization/addOrgnization",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/admin/organization/updateOrgnization",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/admin/organization/deleteOrgnization",method:"post",data:e})}},"584b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-view-layout"},[r("json-filter",{attrs:{code:e.titleCode}},[r("el-form",{attrs:{inline:!0}},[r("el-form-item",{attrs:{label:"职务"}},[r("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.position,callback:function(t){e.$set(e.param,"position",t)},expression:"param.position "}})],1),r("el-form-item",{attrs:{label:"姓名"}},[r("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.userNameIsLike,callback:function(t){e.$set(e.param,"userNameIsLike",t)},expression:"param.userNameIsLike"}})],1),r("el-form-item",{attrs:{label:"手机号"}},[r("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.userPhone,callback:function(t){e.$set(e.param,"userPhone",t)},expression:"param.userPhone  "}})],1),r("el-form-item",{attrs:{label:"责任范围"}},[r("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.dutyRangeIsLike,callback:function(t){e.$set(e.param,"dutyRangeIsLike",t)},expression:"param.dutyRangeIsLike"}})],1),r("el-form-item",{attrs:{label:"学校码"}},[r("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.schoolCode,callback:function(t){e.$set(e.param,"schoolCode",t)},expression:"param.schoolCode"}})],1),r("el-form-item",{attrs:{label:"学校名称"}},[r("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.schoolName,callback:function(t){e.$set(e.param,"schoolName",t)},expression:"param.schoolName"}})],1),r("el-form-item",[r("el-button",{on:{click:function(t){return e.doSearch()}}},[e._v("查询")]),r("permission-filter",{attrs:{code:"userTeacherAdd",type:"primary"},nativeOn:{click:function(t){return e.doAdd(t)}}}),r("permission-filter",{attrs:{code:"userTeacherImport",type:"primary"},nativeOn:{click:function(t){return e.doImport(t)}}}),r("permission-filter",{attrs:{code:"userTeacherExport",type:"primary"},nativeOn:{click:function(t){return e.doExport(t)}}})],1)],1)],1),r("json-table",{ref:"myJsonTable",attrs:{"table-heads":e.tableHeads,loading:e.listLoading,"table-data":e.tableData,page:e.page},on:{"current-change":e.currentPageChange},scopedSlots:e._u([{key:"substituteClass",fn:function(t){return[r("span",[e._v(e._s(t.rowData.scope.row.substituteClass))])]}},{key:"schoolDormList",fn:function(t){return[r("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[r("el-table",{attrs:{data:t.rowData.scope.row.schoolDormList,border:""}},[r("el-table-column",{attrs:{width:"150",property:"scdoBuildNumber","show-overflow-tooltip":"",label:"宿舍楼号",align:"center"}}),r("el-table-column",{attrs:{property:"scdoBuildUnit","show-overflow-tooltip":"",label:"宿舍单元",align:"center"}}),r("el-table-column",{attrs:{property:"scdoBuildFloor","show-overflow-tooltip":"",label:"宿舍楼层",align:"center"}}),r("el-table-column",{attrs:{property:"scdoCode","show-overflow-tooltip":"",label:"宿舍单元",align:"center"}})],1),r("el-button",{attrs:{slot:"reference",size:"medium"},slot:"reference"},[e._v("查看")])],1)]}},{key:"operations",fn:function(t){return[r("permission-filter",{attrs:{code:"userTeacherEdit",size:"mini",type:"warning"},nativeOn:{click:function(r){return e.doEdit(t.rowData.scope.row)}}}),r("permission-filter",{attrs:{code:"userTeacherAdjust",size:"mini",type:"primary"},nativeOn:{click:function(r){return e.doAdjust(t.rowData.scope.row)}}})]}}])}),r("edit-dialog",{attrs:{entity:e.chooseEntity},on:{change:function(t){return e.handleChange()}},model:{value:e.dialogShow,callback:function(t){e.dialogShow=t},expression:"dialogShow"}}),r("adjust-dialog",{attrs:{entity:e.chooseEntity},on:{change:function(t){return e.handleChange()}},model:{value:e.adjustDialogShow,callback:function(t){e.adjustDialogShow=t},expression:"adjustDialogShow"}}),r("import-dialog",{attrs:{title:"Excel文件导入",url:"/admin/teacherStaff/importExcel",formats:["xls","xlsx"]},on:{change:function(t){return e.doSearch()}},model:{value:e.importDialogShow,callback:function(t){e.importDialogShow=t},expression:"importDialogShow"}})],1)},o=[],s=r("5530"),n=(r("159b"),r("a15b"),r("4303")),i=r("261a"),l=r("e101"),u=r("ebd4"),c=r("4f29"),d=r("d07f"),m=r("c633"),f={components:{JsonFilter:n["a"],JsonTable:i["a"],PermissionFilter:l["a"],EditDialog:u["default"],ImportDialog:c["a"],AdjustDialog:d["default"]},data:function(){return{titleCode:"userTeacher",tableHeads:[{prop:"userRealName",label:"姓名"},{prop:"userPhone",label:"手机号"},{prop:"userPosition",label:"职务"},{prop:"schoolName",label:"学校"},{prop:"dutyClassName",label:"责任班级"},{slot:!0,prop:"schoolDormList",label:"管理宿舍"},{slot:!0,prop:"substituteClass",label:"代课班级"},{slot:!0,fixed:"right",prop:"operations",label:"操作",width:180}],listLoading:!1,tableData:[],param:{position:"",userNameIsLike:"",userPhone:"",dutyRangeIsLike:"",schoolCode:"",schoolName:""},page:{limit:15,current:1,total:15},dialogShow:!1,chooseEntity:null,importDialogShow:!1,exportLoading:!1,adjustDialogShow:!1}},computed:{},created:function(){this.getTableData()},methods:{getTableData:function(){var e=this;this.listLoading=!0,Object(m["c"])(Object(s["a"])(Object(s["a"])({},this.param),{},{page:this.page.current,limit:this.page.limit})).then((function(t){e.listLoading=!1,t.success?(t.root.forEach((function(e){e.substituteClass&&(e.substituteClass=e.substituteClass.join(",")),e.dormNumber&&(e.dormNumber=e.dormNumber.join(","))})),e.tableData=t.root,e.page.total=t.totalSize):(e.tableData=[],e.page.total=0,e.$notify({title:"提示",message:t.failReasonShow||"未获取到数据",type:"warning"}))}))},currentPageChange:function(e){this.page.current=e,this.getTableData()},doSearch:function(){this.page.current=1,this.getTableData()},handleChange:function(){this.getTableData()},doAdd:function(){this.chooseEntity=null===this.chooseEntity?{}:null,this.dialogShow=!0},doEdit:function(e){this.chooseEntity=e,e.uniquelyIdentifies=(new Date).getTime(),this.dialogShow=!0},doAdjust:function(e){this.chooseEntity=e,e.uniquelyIdentifies=(new Date).getTime(),this.adjustDialogShow=!0},doImport:function(){this.importDialogShow=!0},doExport:function(){var e=this;this.exportLoading||(this.exportLoading=!0,Object(m["b"])(Object(s["a"])(Object(s["a"])({},this.param),{},{isExport:"Y"})).then((function(t){if(e.exportLoading=!1,t.success){var r=e.BASEFILEURL;window.open(r+t.tip)}else e.$notify({title:"提示",message:t.failReasonShow||"Excel 导出错误！",type:"warning"})})))}}},p=f,h=r("2877"),b=Object(h["a"])(p,a,o,!1,null,"7d0a9c5a",null);t["default"]=b.exports},"8be8":function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return n})),r.d(t,"f",(function(){return i})),r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return u}));var a=r("b775");function o(e){return Object(a["a"])({url:"/admin/schoolClass/selectByQuery",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/admin/schoolClass/exportExcel",method:"post",data:e})}function n(e){return Object(a["a"])({url:"/admin/schoolClass/addSchoolClass",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/admin/schoolClass/updateSchoolClass",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/admin/schoolClass/deleteSchoolClass",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/admin/schoolClass/selectClassByUserId",method:"post",data:e})}},"9afe":function(e,t,r){},c633:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"f",(function(){return n})),r.d(t,"e",(function(){return i})),r.d(t,"a",(function(){return l})),r.d(t,"d",(function(){return u}));var a=r("b775");function o(e){return Object(a["a"])({url:"/admin/teacherStaff/getTeacherStaff",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/admin/teacherStaff/exportExcel",method:"post",data:e})}function n(e){return Object(a["a"])({url:"/admin/teacherStaff/updateTeacherStaff",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/admin/teacherStaff/addTeacherStaff",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/admin/teacherStaff/adjustPosition",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/admin/teacherStaff/getTeacherStaffRole",method:"post",data:e})}},d07f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.dialogTitle,visible:e.isVisible,width:"50%",top:"4vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.isVisible=t}}},[null!==e.entity?r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150"}},[r("el-form-item",{attrs:{label:"机构名称："}},[r("el-input",{attrs:{readonly:""},model:{value:e.entity.schoolName,callback:function(t){e.$set(e.entity,"schoolName",t)},expression:"entity.schoolName"}})],1),r("el-form-item",{attrs:{label:"旧角色："}},[r("el-input",{attrs:{readonly:""},model:{value:e.entity.userPosition,callback:function(t){e.$set(e.entity,"userPosition",t)},expression:"entity.userPosition"}})],1),r("el-form-item",{attrs:{label:"新角色："}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.newRoleId,callback:function(t){e.$set(e.form,"newRoleId",t)},expression:"form.newRoleId"}},e._l(e.roleList,(function(e){return r("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})})),1)],1)],1):e._e(),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.submitting,expression:"submitting"}],attrs:{type:"primary",disabled:e.submitting},on:{click:function(t){return e.adjust()}}},[e._v("确定")])],1)],1)],1)},o=[],s=r("1da1"),n=r("5530"),i=(r("96cf"),r("ad78")),l=r("c633"),u={name:"AuditDialog",mixins:[i["a"]],props:{entity:{type:Object}},data:function(){return{submitting:!1,form:{oldRoleId:"",newRoleId:"",usroOrgId:"",userId:"",roleId:""},roleList:[]}},created:function(){this.getTeacherStaffRole()},computed:{dialogTitle:function(){return"岗位调整"}},watch:{entity:function(e){e&&e.userId&&(this.form.userId=e.userId,this.form.oldRoleId=e.roleId,this.form.usroOrgId=e.usroOrgId)}},methods:{adjust:function(){var e=this;this.$refs.form.validate((function(t){if(t){var r=Object(n["a"])({},e.form);e.submitting=!0,Object(l["a"])(Object(n["a"])({},r)).then((function(t){e.submitting=!1,t.success?(e.$refs["form"].resetFields(),e.$notify({title:"成功",message:"操作成功",type:"success"}),e.$emit("change"),e.isVisible=!1):e.$notify.error({title:"失败",message:t.failReasonShow||"操作失败"})}))}}))},getTeacherStaffRole:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["d"])();case 2:r=t.sent,a=r.success,o=r.root,a&&(e.roleList=o);case 6:case"end":return t.stop()}}),t)})))()}}},c=u,d=(r("132c"),r("2877")),m=Object(d["a"])(c,a,o,!1,null,"44f0ad98",null);t["default"]=m.exports},d1e5:function(e,t,r){"use strict";r("159b");var a={do:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r={},a=function(a){var o=!0;t.forEach((function(e){e===a&&(o=!1)})),o?r["param.".concat(a)]=e[a]:r[a]=e[a]};for(var o in e)a(o);return r}};t["a"]=a},ebd4:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.dialogTitle,visible:e.isVisible,width:"60%",top:"4vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.isVisible=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"auto"}},[r("el-form-item",{attrs:{label:"学校：",prop:"orgId"}},[r("el-select",{attrs:{placeholder:"请选择学校"},on:{focus:e.getSchoolList},model:{value:e.form.orgId,callback:function(t){e.$set(e.form,"orgId",t)},expression:"form.orgId"}},e._l(e.schoolList,(function(e){return r("el-option",{key:e.orgId,attrs:{label:e.orgName,value:e.orgId}})})),1)],1),r("el-form-item",{attrs:{label:"角色名称",prop:"roleId"}},[r("el-select",{attrs:{placeholder:"请选择角色"},on:{focus:e.getRoleList},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleList,(function(e){return r("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})})),1)],1),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"密码",prop:e.userPassword}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.userPassword,callback:function(t){e.$set(e.form,"userPassword",t)},expression:"form.userPassword"}})],1),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"昵称",prop:"userNickname"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.userNickname,callback:function(t){e.$set(e.form,"userNickname",t)},expression:"form.userNickname"}})],1),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"姓名",prop:"userRealName"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.userRealName,callback:function(t){e.$set(e.form,"userRealName",t)},expression:"form.userRealName"}})],1),r("el-form-item",{attrs:{label:"性别："}},[r("el-switch",{staticStyle:{"margin-right":"5px"},attrs:{"active-color":"blue","active-value":1,"inactive-color":"pink","inactive-value":2},model:{value:e.form.userSex,callback:function(t){e.$set(e.form,"userSex",t)},expression:"form.userSex"}}),1===e.form.userSex?r("el-tag",{attrs:{size:"small"}},[e._v("男")]):r("el-tag",{attrs:{size:"small",type:"danger"}},[e._v("女")])],1),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"手机号",prop:"userPhone"}},[r("el-input",{attrs:{placeholder:"请输入",disabled:!!e.isEdit},model:{value:e.form.userPhone,callback:function(t){e.$set(e.form,"userPhone",t)},expression:"form.userPhone"}})],1),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"身份证",prop:"userIdNumber"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.userIdNumber,callback:function(t){e.$set(e.form,"userIdNumber",t)},expression:"form.userIdNumber"}})],1),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"省/市/区",prop:"pcaa"}},[r("select-town",{staticStyle:{width:"100%"},attrs:{"is-three-level":!0},on:{getAddress:e.getAddress},model:{value:e.form.pcaa,callback:function(t){e.$set(e.form,"pcaa",t)},expression:"form.pcaa"}})],1),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"详细地址",prop:"userAddress"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.userAddress,callback:function(t){e.$set(e.form,"userAddress",t)},expression:"form.userAddress"}})],1),9===this.form.roleId?r("el-form-item",{attrs:{label:"管理年级",prop:"noticeGrade"}},[r("el-select",{attrs:{placeholder:"请选择",multiple:"","collapse-tags":"",disabled:""===this.form.orgId||null===this.form.orgId},on:{focus:e.getGrageList},model:{value:e.form.dutyGradeYear,callback:function(t){e.$set(e.form,"dutyGradeYear",t)},expression:"form.dutyGradeYear"}},e._l(e.gradeList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),12===this.form.roleId?r("el-form-item",{attrs:{label:"责任班级",prop:"strDutyClassId"}},[r("el-select",{attrs:{placeholder:"请选择",multiple:"","collapse-tags":"",disabled:""===this.form.orgId||null===this.form.orgId},on:{focus:e.getClassList},model:{value:e.form.strDutyClassId,callback:function(t){e.$set(e.form,"strDutyClassId",t)},expression:"form.strDutyClassId"}},e._l(e.classList,(function(e){return r("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),12===this.form.roleId||14===this.form.roleId?r("el-form-item",{attrs:{label:"代课班级",prop:"substituteClassId"}},[r("el-select",{attrs:{placeholder:"请选择",multiple:"","collapse-tags":"",disabled:""===this.form.orgId||null===this.form.orgId},on:{focus:e.getClassList},model:{value:e.form.substituteClassId,callback:function(t){e.$set(e.form,"substituteClassId",t)},expression:"form.substituteClassId"}},e._l(e.classList,(function(e){return r("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),r("el-form-item",{attrs:{label:"管理宿舍楼层",prop:"dormId"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{focus:e.getDormList},model:{value:e.form.dormId,callback:function(t){e.$set(e.form,"dormId",t)},expression:"form.dormId"}},e._l(e.dormList,(function(e){return r("el-option",{attrs:{label:e.schoolDorm.scdoBuildNumber,value:e.schoolDorm.scdoId}})})),1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.isVisible=!1}}},[e._v("取 消")]),r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.submitting,expression:"submitting"}],attrs:{type:"primary",disabled:e.submitting},on:{click:function(t){return e.submitClick()}}},[e._v("确 定")])],1)],1)],1)},o=[],s=r("2909"),n=r("1da1"),i=r("5530"),l=(r("96cf"),r("a15b"),r("159b"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("ad78")),u=r("0eb1"),c=r("c633"),d=r("d1e5"),m=r("61f7"),f=r("f46a"),p=r("349c"),h=r("8be8"),b=r("072a"),g=r("2ef0"),v=r.n(g),y={name:"EditDialog",mixins:[l["a"]],props:{entity:{type:Object}},components:{SelectTown:u["default"]},data:function(){return{submitting:!1,form:{orgId:"",roleId:"",userPassword:"",userNickname:"",userRealName:"",userSex:"",userPhone:"",userIdNumber:"",pcaa:[],userAddress:"",dutyGradeYear:[],classList:[],strDutyClassId:[],substituteClassId:[],dormId:""},rules:{userIdNumber:[{required:!0,message:"不能为空！",trigger:"blur"},{validator:m["d"],trigger:"blur"}],userPhone:[{required:!0,message:"不能为空！",trigger:"blur"},{validator:m["e"],trigger:"blur"}],orgId:[{required:!0,message:"不能为空！",trigger:"blur"}],roleId:[{required:!0,message:"不能为空！",trigger:"blur"}],userPassword:[{required:!0,message:"不能为空！",trigger:"blur"}],userNickname:[{required:!0,message:"不能为空！",trigger:"blur"}],userRealName:[{required:!0,message:"不能为空！",trigger:"blur"}],userSex:[{required:!0,message:"不能为空！",trigger:"blur"}],userAddress:[{required:!0,message:"不能为空！",trigger:"blur"}],dutyGradeYear:[{required:!0,message:"不能为空！",trigger:"blur"}],pcaa:[{required:!0,message:"不能为空！",trigger:"blur"}]},roleList:[],schoolList:[],gradeList:[],classList:[],dormList:[]}},watch:{entity:function(e){e&&e.userId?(this.form.userId=e.userId,this.form.userAccount=e.userAccount,this.form.userPassword=e.userPassword,this.form.userRealName=e.userRealName,this.form.userPhone=e.userPhone,this.form.userIdNumber=e.userIdNumber,this.form.dutyGradeYear=e.dutyGradeYear,this.form.strDutyClassId=e.strDutyClassId,this.form.substituteClassId=e.substituteClassId,this.form.pcaa=[e.userProvince,e.userCity,e.userArea]):this.form={orgId:"",roleId:"",userPassword:"",userNickname:"",userRealName:"",userSex:1,userPhone:"",userIdNumber:"",pcaa:[],userAddress:"",dutyGradeYear:[],strDutyClassId:[],substituteClassId:[],dormId:""}}},computed:{isEdit:function(){return this.entity&&this.entity.userId},dialogTitle:function(){return this.isEdit?"编辑":"添加"},userPassword:function(){return this.isEdit?"":"userPassword"}},methods:{submitClick:function(){var e=this;this.$refs.form.validate((function(t){if(t){var r=v.a.cloneDeep(e.form);r.dutyGradeYear=r.dutyGradeYear.join(","),r.strDutyClassId=r.strDutyClassId.join(","),r.substituteClassId=r.substituteClassId.join(","),delete r.pcaa;var a=e.isEdit?Object(i["a"])(Object(i["a"])({},d["a"].do(e.cloneForm)),{},{"param.userProvince":e.form.pcaa[0],"param.userCity":e.form.pcaa[1],"param.userArea":e.form.pcaa[2]}):Object(i["a"])(Object(i["a"])({},r),{},{userProvince:e.form.pcaa[0],userCity:e.form.pcaa[1],userArea:e.form.pcaa[2]});e.submitting=!0,(e.isEdit?Object(c["f"])(a):Object(c["e"])(a)).then((function(t){e.submitting=!1,t.success?(e.$refs["form"].resetFields(),e.$notify({title:"成功",message:"操作成功",type:"success"}),e.$emit("change"),e.isVisible=!1):e.$notify.error({title:"失败",message:t.failReasonShow||"操作失败"})}))}}))},getAddress:function(e){this.form.pcaa=e},getRoleList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["d"])({"param.roleType":3});case 2:r=t.sent,a=r.success,o=r.root,a&&(e.roleList=o);case 6:case"end":return t.stop()}}),t)})))()},getSchoolList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["c"])({page:1,limit:0});case 2:r=t.sent,a=r.success,o=r.root,a&&(e.schoolList=o);case 6:case"end":return t.stop()}}),t)})))()},getGrageList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=[],t.next=3,Object(h["c"])({"param.orgId":e.form.orgId});case 3:a=t.sent,a.success,o=a.root,null!=o&&o.forEach((function(e){r.unshift(e.scclYear)})),r=Object(s["a"])(new Set(r)),n=[],r.forEach((function(e){n.push({label:e+"级",value:e})})),e.gradeList=n;case 11:case"end":return t.stop()}}),t)})))()},getClassList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["c"])({"param.orgId":e.form.orgId});case 2:r=t.sent,r.success,a=r.root,o=[],a.forEach((function(e){o.push({label:e.scclName,value:e.scclId})})),e.classList=o;case 8:case"end":return t.stop()}}),t)})))()},getDormList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(b["c"])({"param.orgId":e.form.orgId});case 2:r=t.sent,a=r.success,o=r.root,a&&(e.dormList=o);case 6:case"end":return t.stop()}}),t)})))()}}},I=y,w=(r("24e9"),r("2877")),j=Object(w["a"])(I,a,o,!1,null,"b44fae96",null);t["default"]=j.exports},f46a:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"e",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return l}));var a=r("b775");function o(e){return Object(a["a"])({url:"/admin/departmentUser/getDepartmentUser",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/admin/departmentUser/exportExcel",method:"post",data:e})}function n(e){return Object(a["a"])({url:"/admin/departmentUser/updateDepartmentUser",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/admin/departmentUser/addDepartmentUser",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/admin/role/selectByExample",method:"post",data:e})}}}]);