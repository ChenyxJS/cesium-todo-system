(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213935"],{aceb:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-view-layout"},[a("json-filter",{attrs:{code:e.titleCode}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"主题"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.quesThemeLike,callback:function(t){e.$set(e.param,"quesThemeLike",t)},expression:"param.quesThemeLike"}})],1),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.doSearch()}}},[e._v("查询")]),a("permission-filter",{attrs:{code:"questionTitleExport",type:"primary",loading:e.exportLoading,disabled:e.exportLoading},nativeOn:{click:function(t){return e.doExport()}}})],1)],1)],1),a("json-table",{ref:"myJsonTable",attrs:{"table-heads":e.tableHeads,loading:e.listLoading,"table-data":e.tableData,page:e.page},on:{"current-change":e.currentPageChange},scopedSlots:e._u([{key:"detail",fn:function(t){return[a("el-popover",{attrs:{placement:"right",width:"600",trigger:"click"}},[a("el-table",{attrs:{data:t.rowData.scope.row.userQuestionnaireDTOList,border:"","max-height":"800px"}},[a("el-table-column",{attrs:{property:"quitTitle","show-overflow-tooltip":"",label:"题目",align:"center"}}),a("el-table-column",{attrs:{property:"quitAnswer","show-overflow-tooltip":"",label:"正确选项",align:"center",width:"100"}}),a("el-table-column",{attrs:{property:"usquOption","show-overflow-tooltip":"",label:"用户选项",align:"center",width:"100"}}),a("el-table-column",{attrs:{property:"usquIsRight","show-overflow-tooltip":"",label:"结果",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.usquIsRight?a("el-tag",{attrs:{type:"success"}},[e._v("正确")]):a("el-tag",{attrs:{type:"danger"}},[e._v("错误")])]}}],null,!0)})],1),a("el-button",{attrs:{slot:"reference",size:"medium",type:"text"},slot:"reference"},[e._v("查看")])],1)]}},{key:"usqureStartTime",fn:function(t){return[a("span",[e._v(" "+e._s(e._f("formatDate")(t.rowData.scope.row.usqureStartTime,"yyyy-MM-dd hh:mm:ss"))+" ")])]}},{key:"usqureEndTime",fn:function(t){return[a("span",[e._v(" "+e._s(e._f("formatDate")(t.rowData.scope.row.usqureEndTime,"yyyy-MM-dd hh:mm:ss"))+" ")])]}}])})],1)},i=[],l=a("5530"),r=a("4303"),n=a("261a"),s=a("e101"),u=a("b775");function c(e){return Object(u["a"])({url:"/admin/userQuestionnaire/select",method:"post",data:e})}function d(e){return Object(u["a"])({url:"/admin/userQuestionnaire/exportExcel",method:"post",data:e})}var p={components:{JsonFilter:r["a"],JsonTable:n["a"],PermissionFilter:s["a"]},filters:{},data:function(){return{titleCode:"questionRecord",tableHeads:[{prop:"quesTheme",label:"主题",overflowTooltip:"show"},{prop:"userRealName",label:"用户姓名"},{prop:"userPhone",label:"用户手机号"},{slot:!0,prop:"detail",label:"答题详情",width:120},{slot:!0,prop:"usqureStartTime",label:"开始答题时间"},{slot:!0,prop:"usqureEndTime",label:"结束答题时间"}],listLoading:!1,exportLoading:!1,tableData:[],dateValue:[],param:{quesThemeLike:"",startTime:"",endTime:""},page:{limit:15,current:1,total:15},dialogShow:!1,chooseEntity:null}},computed:{},created:function(){this.getTableData()},methods:{getTableData:function(){var e=this;this.listLoading=!0,this.param.startTime=this.dateValue.length>0?this.dateValue[0]+" 00:00:00":"",this.param.endTime=this.dateValue.length>0?this.dateValue[1]+" 23:59:59":"",c(Object(l["a"])(Object(l["a"])({},this.param),{},{page:this.page.current,limit:this.page.limit})).then((function(t){e.listLoading=!1,t.success?(e.tableData=t.root,e.page.total=t.totalSize):(e.tableData=[],e.page.total=0,e.$notify({title:"提示",message:t.failReasonShow||"未获取到数据",type:"warning"}))}))},currentPageChange:function(e){this.page.current=e,this.getTableData()},doSearch:function(){this.page.current=1,this.getTableData()},handleChange:function(){this.getTableData()},doAdd:function(){this.chooseEntity=null===this.chooseEntity?{}:null,this.dialogShow=!0},doEdit:function(e){this.chooseEntity=e,e.uniquelyIdentifies=(new Date).getTime(),this.dialogShow=!0},doExport:function(){var e=this;this.exportLoading||(this.exportLoading=!0,d(Object(l["a"])({},this.param)).then((function(t){if(e.exportLoading=!1,t.success){var a=e.BASEFILEURL;window.open(a+t.tip)}else e.$notify({title:"提示",message:t.failReasonShow||"Excel 导出错误！",type:"warning"})})))}}},h=p,m=a("2877"),f=Object(m["a"])(h,o,i,!1,null,"7cd8ff40",null);t["default"]=f.exports}}]);