(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-202da0c5"],{2209:function(e,t,a){"use strict";a.d(t,"r",(function(){return l})),a.d(t,"s",(function(){return n})),a.d(t,"m",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"o",(function(){return o})),a.d(t,"p",(function(){return u})),a.d(t,"i",(function(){return s})),a.d(t,"h",(function(){return c})),a.d(t,"u",(function(){return d})),a.d(t,"t",(function(){return m})),a.d(t,"e",(function(){return f})),a.d(t,"l",(function(){return b})),a.d(t,"j",(function(){return p})),a.d(t,"c",(function(){return h})),a.d(t,"n",(function(){return g})),a.d(t,"k",(function(){return v})),a.d(t,"b",(function(){return y})),a.d(t,"d",(function(){return L})),a.d(t,"a",(function(){return k})),a.d(t,"q",(function(){return w})),a.d(t,"g",(function(){return O}));var l=[{value:"0",label:"小学"},{value:"1",label:"初中"},{value:"2",label:"高中"}],n=[{value:"0",label:"公办"},{value:"1",label:"民办"}],r=[{value:"2",label:"行政单位"},{value:"3",label:"平台"},{value:"4",label:"律师事务所"}],i=[{value:"1",label:"男生宿舍"},{value:"2",label:"女生宿舍"},{value:"3",label:"楼号"},{value:"4",label:"楼层"}],o=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],u=[{value:"0",label:"单选"},{value:"1",label:"多选"}],s=[{value:"0",label:"临时"},{value:"1",label:"长期"},{value:"2",label:"学期"}],c=[{value:"1",label:"学校"},{value:"2",label:"年级"},{value:"3",label:"班级"},{value:"4",label:"个人"}],d=[{value:"1",label:"通用库"},{value:"2",label:"特色库"},{value:"3",label:"校规"},{value:"4",label:"班规"}],m=[{value:"1",label:"一级"},{value:"2",label:"二级"},{value:"3",label:"三级"}],f=[{value:"1",label:"年"},{value:"2",label:"月"},{value:"3",label:"周"},{value:"4",label:"日"}],b=[{label:"学校",value:1},{label:"年级",value:2},{label:"班级",value:3}],p=[{label:"年级",value:2},{label:"班级",value:3}],h=[{label:"班级",value:3}],g=[{label:"年级主任",value:9},{label:"班主任",value:12},{label:"任课老师",value:14},{label:"其他教职工",value:17},{label:"心理辅导",value:18},{label:"家长",value:4}],v=[{label:"年级主任",value:9},{label:"班主任",value:12},{label:"任课老师",value:14},{label:"家长",value:4}],y=[{label:"班主任",value:12},{label:"任课老师",value:14},{label:"家长",value:4}],L=[{label:"班主任",value:12},{label:"任课老师",value:14},{label:"家长",value:4}],k=[{label:"任课老师",value:14},{label:"家长",value:4}],w=[{value:"0",label:"未投票"},{value:"1",label:"通过"},{value:"2",label:"投票中"}],O=[{value:0,label:"待审核"},{value:1,label:"通过"},{value:2,label:"不通过"}]},"349c":function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return u})),a.d(t,"a",(function(){return s}));var l=a("b775");function n(e){return Object(l["a"])({url:"/admin/organization/selectByQuery",method:"post",data:e})}function r(e){return Object(l["a"])({url:"/admin/organization/selectOrgByQuery",method:"post",data:e})}function i(e){return Object(l["a"])({url:"/admin/organization/exportExcel",method:"post",data:e})}function o(e){return Object(l["a"])({url:"/admin/organization/addOrgnization",method:"post",data:e})}function u(e){return Object(l["a"])({url:"/admin/organization/updateOrgnization",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/admin/organization/deleteOrgnization",method:"post",data:e})}},"3c68":function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"i",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return u})),a.d(t,"h",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return d})),a.d(t,"a",(function(){return m}));var l=a("b775");function n(e){return Object(l["a"])({url:"/admin/teachManage/selectByQuery",method:"post",data:e})}function r(e){return Object(l["a"])({url:"/admin/teachManage/add",method:"post",data:e})}function i(e){return Object(l["a"])({url:"/admin/teachManage/updateById",method:"post",data:e})}function o(e){return Object(l["a"])({url:"/admin/teachManage/delete",method:"post",data:e})}function u(e){return Object(l["a"])({url:"/admin/teachManage/exportExcel",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/admin/teachManage/publish",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/admin/teachManage/entrust",method:"post",data:e})}function d(e){return Object(l["a"])({url:"/admin/teachManage/execute",method:"post",data:e})}function m(e){return Object(l["a"])({url:"/admin/teachManage/selectTeachAuditRecord",method:"post",data:e})}},a583:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-view-layout"},[a("json-filter",{attrs:{code:e.titleCode}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"学校码"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.temaOrgCodeIsLike,callback:function(t){e.$set(e.param,"temaOrgCodeIsLike",t)},expression:"param.temaOrgCodeIsLike"}})],1),a("el-form-item",{attrs:{label:"学校名称"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.temaOrgNameIsLike,callback:function(t){e.$set(e.param,"temaOrgNameIsLike",t)},expression:"param.temaOrgNameIsLike"}})],1),a("el-form-item",{attrs:{label:"性质"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.temaTypeIsLike,callback:function(t){e.$set(e.param,"temaTypeIsLike",t)},expression:"param.temaTypeIsLike"}})],1),a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.temaTitleIsLike,callback:function(t){e.$set(e.param,"temaTitleIsLike",t)},expression:"param.temaTitleIsLike"}})],1),a("el-form-item",{attrs:{label:"责任岗位"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.temaRoleNameIsLike,callback:function(t){e.$set(e.param,"temaRoleNameIsLike",t)},expression:"param.temaRoleNameIsLike"}})],1),a("el-form-item",{attrs:{label:"教育范围"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.param.temaRangeIsLike,callback:function(t){e.$set(e.param,"temaRangeIsLike",t)},expression:"param.temaRangeIsLike"}})],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.doSearch()}}},[e._v("查询")])],1)],1)],1),a("json-table",{ref:"myJsonTable",attrs:{"table-heads":e.tableHeads,loading:e.listLoading,"table-data":e.tableData,page:e.page},on:{"current-change":e.currentPageChange},scopedSlots:e._u([{key:"temaLinkItem",fn:function(t){return[a("el-popover",{attrs:{placement:"right",width:"200",trigger:"click"}},[a("el-table",{attrs:{data:t.rowData.scope.row.teachWarningManages,border:""}},[a("el-table-column",{attrs:{property:"tewaLinkItemTitle","show-overflow-tooltip":"",label:"行为概述",align:"center"}})],1),a("el-button",{attrs:{slot:"reference",size:"medium",type:"text"},slot:"reference"},[e._v("查看")])],1)]}},{key:"temaCloseTime",fn:function(t){return[a("span",[e._v(" "+e._s(e._f("formatDate")(t.rowData.scope.row.temaCloseTime,"yyyy-MM-dd hh:mm:ss"))+" ")])]}},{key:"temaType",fn:function(t){return[a("span",[e._v(e._s(e._f("formatShowName")(t.rowData.scope.row.temaType,e.educationTypeList)))])]}},{key:"temaRange",fn:function(t){return[a("span",[e._v(e._s(e._f("formatShowName")(t.rowData.scope.row.temaRange,e.educationRangeList)))])]}},{key:"operations",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return e.doEdit(t.rowData.scope.row)}}},[e._v("查看详情")])]}}])}),a("edit-dialog",{attrs:{entity:e.chooseEntity,"school-list":e.schoolList,"education-type-list":e.educationTypeList,"education-range-list":e.educationRangeList,"role-list":e.roleList},on:{change:function(t){return e.handleChange()}},model:{value:e.dialogShow,callback:function(t){e.dialogShow=t},expression:"dialogShow"}})],1)},n=[],r=a("5530"),i=(a("159b"),a("4303")),o=a("261a"),u=a("e101"),s=a("a58d"),c=a("b775");function d(e){return Object(c["a"])({url:"/admin/teachManage/selectTeachRecord",method:"post",data:e})}var m=a("349c"),f=a("4f29"),b=a("2209"),p=a("f1b9"),h={components:{JsonFilter:i["a"],JsonTable:o["a"],PermissionFilter:u["a"],EditDialog:s["default"],ImportDialog:f["a"]},filters:{formatShowName:function(e,t){var a="";return t.forEach((function(t){e==t.value&&(a=t.label)})),a}},data:function(){return{titleCode:"educationRecord",tableHeads:[{prop:"orgCode",label:"学校码"},{prop:"orgName",label:"学校名称"},{slot:!0,prop:"temaType",label:"性质"},{prop:"temaTitle",label:"标题"},{slot:!0,prop:"temaCloseTime",label:"执行截止时间"},{slot:!0,prop:"temaLinkItem",label:"关联条目",width:100},{prop:"roleName",label:"责任岗位"},{prop:"temaResponsibeName",label:"责任人"},{slot:!0,prop:"temaRange",label:"教育管理范围(目标学生)"},{prop:"temaCycle",label:"教育管理周期"},{prop:"temaTimes",label:"频次"},{overflowTooltip:"show",prop:"temaDesc",label:"备注"},{slot:!0,fixed:"right",prop:"operations",label:"操作",width:180}],listLoading:!1,exportLoading:!1,importDialogShow:!1,executeDialogShow:!1,tableData:[],schoolList:[],warningDatabaseList:[],roleList:[],educationTypeList:b["i"],educationRangeList:b["h"],param:{temaTitleIsLike:"",temaTypeIsLike:"",temaOrgCodeIsLike:"",temaOrgNameIsLike:"",temaRangeIsLike:"",temaRoleNameIsLike:""},page:{limit:15,current:1,total:15},dialogShow:!1,chooseEntity:null,chooseExecuteEntity:null,entrustDialogShow:!1,chooseEntrustEntity:null}},computed:{},created:function(){this.getTableData(),this.getSchoolList(),this.getRoleList()},methods:{getRoleList:function(){var e=this;Object(p["d"])({page:1,limit:0,"param.roleType":"3"}).then((function(t){t.success?e.roleList=t.root:e.roleList=[]}))},getSchoolList:function(){var e=this;Object(m["d"])({limit:0,page:1}).then((function(t){t.success?e.schoolList=t.root:e.schoolList=[]}))},getTableData:function(){var e=this;this.listLoading=!0,d(Object(r["a"])(Object(r["a"])({},this.param),{},{page:this.page.current,limit:this.page.limit})).then((function(t){e.listLoading=!1,t.success?(e.tableData=t.root,e.page.total=t.totalSize):(e.tableData=[],e.page.total=0,e.$notify({title:"提示",message:t.failReasonShow||"未获取到数据",type:"warning"}))}))},currentPageChange:function(e){this.page.current=e,this.getTableData()},doSearch:function(){this.page.current=1,this.getTableData()},handleChange:function(){this.getTableData()},doAdd:function(){this.chooseEntity=null===this.chooseEntity?{}:null,this.dialogShow=!0},doEdit:function(e){this.chooseEntity=e,e.uniquelyIdentifies=(new Date).getTime(),this.dialogShow=!0}}},g=h,v=a("2877"),y=Object(v["a"])(g,l,n,!1,null,"fa850e42",null);t["default"]=y.exports},a58d:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.isVisible,width:"40%",top:"4vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.isVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"auto"}},[a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd hh:mm:ss",readonly:""},model:{value:e.form.tereCreateTime,callback:function(t){e.$set(e.form,"tereCreateTime",t)},expression:"form.tereCreateTime"}})],1),a("el-form-item",{attrs:{label:"地点"}},[a("el-input",{attrs:{readonly:""},model:{value:e.form.tereAddress,callback:function(t){e.$set(e.form,"tereAddress",t)},expression:"form.tereAddress"}})],1),a("el-form-item",{attrs:{label:"详情概述"}},[a("el-input",{attrs:{type:"textarea",rows:4,readonly:""},model:{value:e.form.tereDesc,callback:function(t){e.$set(e.form,"tereDesc",t)},expression:"form.tereDesc"}})],1),a("el-form-item",{attrs:{label:"图片"}},e._l(e.fileList,(function(t){return a("el-image",{staticStyle:{width:"150px",height:"150px","box-sizing":"border-box","margin-right":"10px"},attrs:{src:t,fit:"cover","preview-src-list":e.fileList}})})),1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.isVisible=!1}}},[e._v("取 消")]),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.submitting,expression:"submitting"}],attrs:{type:"primary",disabled:e.submitting},on:{click:function(t){return e.submitClick()}}},[e._v("确 定")])],1)],1)],1)},n=[],r=a("5530"),i=(a("d81d"),a("159b"),a("a15b"),a("ad78")),o=a("3c68"),u=a("ed08"),s={name:"ExecuteDialog",components:{},mixins:[i["a"]],props:{entity:{type:Object}},data:function(){return{submitting:!1,form:{temaId:"",tereCreateTime:"",tereAddress:"",tereDesc:"",images:""},imageUrl:"",dialogImageUrl:"",dialogImageVisible:!1,fileList:[],rules:{tereCreateTime:[{required:!0,message:"请选择！",trigger:"change"}],tereAddress:[{required:!0,message:"不能为空！",trigger:"blur"}],tereDesc:[{required:!0,message:"不能为空！",trigger:"blur"}]}}},computed:{isEdit:function(){return this.entity&&this.entity.temaId},dialogTitle:function(){return"详情"}},watch:{entity:function(e){this.imageUrl="",this.fileList=[],e&&e.temaId?(this.form.temaId=e.temaId,this.form.tereCreateTime=e.tereCreateTime?Object(u["d"])(e.tereCreateTime,"yyyy-MM-dd hh:mm:ss"):"",this.form.tereAddress=e.tereAddress,this.form.tereDesc=e.tereDesc,this.fileList=e.teachImageRecords?e.teachImageRecords.map((function(e){return e.teimUrl})):""):this.form={tereCreateTime:"",tereAddress:"",tereDesc:"",images:""}}},methods:{submitClick:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.submitting=!0;var a=Object(r["a"])({},e.form),l=[];e.fileList.forEach((function(e){l.push(e.url)})),a.images=l.join(","),Object(o["f"])(a).then((function(t){e.submitting=!1,t.success?(e.$refs["form"].resetFields(),e.$notify({title:"成功",message:"操作成功",type:"success"}),e.$emit("change"),e.isVisible=!1):e.$notify.error({title:"失败",message:t.failReasonShow||"操作失败"})})).catch((function(t){e.submitting=!1,e.$notify.error({title:"失败",message:result.failReasonShow||"操作失败"})}))}}))}}},c=s,d=(a("ffcc"),a("2877")),m=Object(d["a"])(c,l,n,!1,null,"2e22b0fc",null);t["default"]=m.exports},dc5b:function(e,t,a){},f1b9:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"h",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"g",(function(){return u})),a.d(t,"c",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"b",(function(){return d}));var l=a("b775");function n(e){return Object(l["a"])({url:"admin/role/selectByExample",method:"post",data:e})}function r(e){return Object(l["a"])({url:"/admin/role/add",method:"post",data:e})}function i(e){return Object(l["a"])({url:"/admin/role/update",method:"post",data:e})}function o(e){return Object(l["a"])({url:"/admin/role/delete",method:"post",data:e})}function u(e){return Object(l["a"])({url:"/admin/permission/settingPermissionToRole",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/admin/permission/selectByExample",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/admin/miniRolePermission/setting",method:"post",data:e})}function d(e){return Object(l["a"])({url:"/admin/miniRolePermission/selectByExample",method:"post",data:e})}},ffcc:function(e,t,a){"use strict";a("dc5b")}}]);